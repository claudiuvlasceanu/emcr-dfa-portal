<mat-card style="border: none !important; box-shadow: none !important;">
  <div *ngIf="type === 'profile'">
    <ng-container *ngTemplateOutlet="profile"></ng-container>
  </div>
  <div *ngIf="type === 'need'">
    <ng-container *ngTemplateOutlet="need"></ng-container>
  </div>
  <div *ngIf="type === 'both'">
    <ng-container *ngTemplateOutlet="profile"></ng-container>
    <ng-container *ngTemplateOutlet="need"></ng-container>
    <br />
    <div class="row">
      <div class="col">
        <p>
          Please complete the CAPTCHA below. This helps us prevent automated
          registrations.
        </p>
      </div>
    </div>
    <div class="row" style="margin-top: 20px">
      <div class="col">
        <app-captcha-v2
          (captchaResponse)="onTokenResponse($event)"
        ></app-captcha-v2>
      </div>
    </div>
  </div>
  <div *ngIf="type === 'dfa-application-main'">
    <ng-container *ngTemplateOutlet="dfaApplicationMain"></ng-container>
  </div>

  <ng-template #profile>
    <div id="personalDetail">
      <p *ngIf="showHeading" class="review-heading review-profile-head">Review & Submit</p>
       <p>
        Please read through and confirm that your details are all correct before
        submitting.
      </p>

      <mat-card-content style="display:none" class="mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Restriction</div>
          <div class="col-md-2">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('restriction')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />

        <div class="row info-detail">
          <div class="col-md-1">
            <span
              *ngIf="
                !(formCreationService.restrictionForm$ | async)?.value
                  .restrictedAccess
              "
            >
              <img
                src="/assets/images/restriction-on.svg"
                height="20"
                width="20"
              />
            </span>
            <span
              *ngIf="
                (formCreationService.restrictionForm$ | async)?.value
                  .restrictedAccess
              "
            >
              <img
                src="/assets/images/restriction-off.svg"
                height="20"
                width="20"
              />
            </span>
          </div>
          <div class="col-md-9">
            <p>
              You have given your consent to have your location and contact
              information shared with concerned family or friends who enquire
              about your wellbeing.
            </p>
          </div>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Personal Details</div>
          <div class="col-md-2">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('personal-details')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />

        <div class="row info-detail">
          <div class="col-md-3">Last Name:</div>
          <div class="col-md-3">
            {{
              (formCreationService.personalDetailsForm$ | async)?.value
                ?.lastName
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">First Name:</div>
          <div class="col-md-3">
            {{
              (formCreationService.personalDetailsForm$ | async)?.value
                ?.firstName
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">
            Are you an Indigenous person?<br />
          (First Nation, Inuit, or Metis)
          </div>
          <div class="col-md-3">
            {{
              (formCreationService.personalDetailsForm$ | async)?.value
                ?.indigenousStatus
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Initials:</div>
          <div class="col-md-3">
            {{
              (formCreationService.personalDetailsForm$ | async)?.value
                ?.initials
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Primary Address</div>
          <div class="col-md-2">
            <!--<button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('address')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>-->
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Address line 1:</div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.address
                ?.addressLine1
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Address line 2:</div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.address
                ?.addressLine2
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div
            class="col-md-3"

          >
            City:
          </div>

          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.address
                ?.community
            }}
          </div>

        </div>
        <div class="row info-detail">
          <div
            class="col-md-3">
            Postal Code:
          </div>


          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.address
                ?.postalCode
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div
            class="col-md-3">
            Province:
          </div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.address
                ?.stateProvince
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Current Contact Address</div>
          <div class="col-md-2">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('address')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Address line 1:</div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.addressLine1
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Address line 2:</div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.addressLine2
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div
            class="col-md-3">
            City:
          </div>

          <div
            class="col-md-3"
            *ngIf="
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.community?.name !== undefined
            "
          >
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.community?.name
            }}
          </div>
          <div
            class="col-md-3"
            *ngIf="
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.community?.name === undefined
            "
          >
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.community
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div
            class="col-md-3">
            Postal Code:
          </div>

          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.postalCode
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div
            class="col-md-3">
            Province:
          </div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.stateProvince
            }}
          </div>
        </div>
        <!--<div class="row info-detail">
          <div class="col-md-3">Country:</div>
          <div class="col-md-3">
            {{
              (formCreationService.addressForm$ | async)?.value?.mailingAddress
                ?.country?.name
            }}
          </div>
        </div>-->
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Contact Telephone Number</div>
          <div class="col-md-2">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('contact-info')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">

          <!--<div class="col-md-9">
            <p>
              You have given your consent for Emergency Management British
              Columbia and your Local Emergency Program to communicate with you
              by email or phone regarding your emergency situation.
            </p>
          </div>-->
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Cellular Telephone Number:</div>
          <div class="col-md-3">
            {{
              (formCreationService.contactDetailsForm$ | async)?.value?.cellPhoneNumber
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Residence Telephone Number:</div>
          <div class="col-md-3">
            {{
              (formCreationService.contactDetailsForm$ | async)?.value?.residencePhone
            }}
          </div>
        </div>

      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Email Address</div>
          <div class="col-md-2">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('contact-info')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Email Address:</div>
          <div class="col-md-3">
            {{
              (formCreationService.contactDetailsForm$ | async)?.value?.email
            }}
          </div>
        </div>
      </mat-card-content>
    </div>

  </ng-template>
  <ng-template #need>
    <div id="needsAssessment">
      <p *ngIf="type === 'both'" class="review-heading">Evacuation File</p>

      <mat-card-content *ngIf="type === 'need'">
        <p *ngIf="showHeading" class="review-heading">Review & Submit</p>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Restriction</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('restriction')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />

        <div class="row info-detail">
          <div class="col-md-1">
            <span
              *ngIf="
                !(formCreationService.restrictionForm$ | async)?.value
                  .restrictedAccess
              "
            >
              <img
                src="/assets/images/restriction-on.svg"
                height="20"
                width="20"
              />
            </span>
            <span
              *ngIf="
                (formCreationService.restrictionForm$ | async)?.value
                  .restrictedAccess
              "
            >
              <img
                src="/assets/images/restriction-off.svg"
                height="20"
                width="20"
              />
            </span>
          </div>
          <div class="col-md-9">
            <p>
              You have given your consent to have your location and contact
              information shared with concerned family or friends who enquire
              about your wellbeing.
            </p>
          </div>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Location</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('evac-address')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Evacuated From:</div>
          <div class="col-md-3">
            <p class="no-bottom-margin">
              <span
                >{{
                  (formCreationService.evacuatedForm$ | async)?.value
                    ?.evacuatedFromAddress?.addressLine1
                }},</span
              >
              <span
                >&nbsp;{{
                  (formCreationService.evacuatedForm$ | async)?.value
                    ?.evacuatedFromAddress?.addressLine2
                }}</span
              >
            </p>
            <p>
              <span
                >{{
                  (formCreationService.evacuatedForm$ | async)?.value
                    ?.evacuatedFromAddress?.community?.name
                }},
              </span>
              <span>{{
                (formCreationService.evacuatedForm$ | async)?.value
                  ?.evacuatedFromAddress?.stateProvince?.name
              }}</span>
              <span
                [hidden]="
                  (formCreationService.evacuatedForm$ | async).value
                    ?.evacuatedFromAddress?.postalCode === '' ||
                  (formCreationService.evacuatedForm$ | async).value
                    ?.evacuatedFromAddress?.postalCode === null
                "
                >,&nbsp;</span
              >
              <span>{{
                (formCreationService.evacuatedForm$ | async).value
                  ?.evacuatedFromAddress?.postalCode
              }}</span>
            </p>
          </div>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Insurance</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('evac-address')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Insurance:</div>
          <div class="col-md-3">
            {{
              (formCreationService.evacuatedForm$ | async)?.value.insurance ===
              'Unknown'
                ? "I don't know"
                : (formCreationService.evacuatedForm$ | async)?.value
                    .insurance === 'Unsure'
                ? 'Yes, but I am unsure if I have coverage for this event.'
                : (formCreationService.evacuatedForm$ | async)?.value
                    .insurance === 'Yes'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Household Members</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('family-information')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div
          *ngFor="
            let member of (formCreationService.householdMembersForm$ | async)
              ?.value.householdMembers
          "
        >
          <ng-container *ngIf="member.isPrimaryRegistrant !== true">
            <div class="row info-detail">
              <div class="col-md-3">First Name:</div>
              <div class="col-md-3">{{ member.firstName }}</div>
            </div>
            <div class="row info-detail">
              <div class="col-md-3">Last Name:</div>
              <div class="col-md-3">{{ member.lastName }}</div>
            </div>

            <div class="row info-detail">
              <div class="col-md-3">Initials:</div>
              <div class="col-md-3">{{ member.initials }}</div>
            </div>
            <div class="row info-detail">
              <div class="col-md-3">Gender:</div>
              <div class="col-md-3">{{ member.gender }}</div>
            </div>
            <div class="row info-detail">
              <div class="col-md-3">Date of Birth:</div>
              <div class="col-md-3">{{ member.dateOfBirth | customDate }}</div>
            </div>
            <br />
          </ng-container>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">
            Household Medication & Dietary Requirements
          </div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('family-information')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Family Medication Requirements:</div>
          <div class="col-md-3">
            {{
              (formCreationService.householdMembersForm$ | async)?.value
                .haveMedication === true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Family Dietary Requirements:</div>
          <div class="col-md-3">
            {{
              (formCreationService.householdMembersForm$ | async)?.value
                .haveSpecialDiet === true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div
          class="row info-detail"
          *ngIf="
            (formCreationService.householdMembersForm$ | async)?.value
              .specialDietDetails
          "
        >
          <div class="col-md-3">Special Dietary Details:</div>
          <div class="col-md-3 wrap-text">
            {{
              (formCreationService.householdMembersForm$ | async)?.value
                .specialDietDetails
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Pets</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('pets')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div
          *ngFor="
            let pet of (formCreationService.petsForm$ | async)?.value.pets
          "
        >
          <div class="row info-detail">
            <div class="col-md-3">Pet Type:</div>
            <div class="col-md-3">{{ pet.type }}</div>
          </div>
          <div class="row info-detail">
            <div class="col-md-3">Quantity:</div>
            <div class="col-md-3">{{ pet.quantity }}</div>
          </div>
          <br />
        </div>
        <div
          *ngIf="
            (formCreationService.petsForm$ | async)?.value?.pets?.length > 0
          "
          class="row info-detail"
        >
          <div class="col-md-3">Has sufficient pet food?</div>
          <div class="col-md-3">
            {{
              (formCreationService.petsForm$ | async)?.value.hasPetsFood ===
              true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Self-Provided Needs</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('identify-needs')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Food:</div>
          <div class="col-md-3">
            {{
              (formCreationService.identifyNeedsForm$ | async)?.value
                .canEvacueeProvideFood === 'Unsure'
                ? "I'm not sure"
                : (formCreationService.identifyNeedsForm$ | async)?.value
                    .canEvacueeProvideFood === 'Yes'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Lodging:</div>
          <div class="col-md-3">
            {{
              (formCreationService.identifyNeedsForm$ | async)?.value
                .canEvacueeProvideLodging === 'Unsure'
                ? "I'm not sure"
                : (formCreationService.identifyNeedsForm$ | async)?.value
                    .canEvacueeProvideLodging === 'Yes'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Clothing:</div>
          <div class="col-md-3">
            {{
              (formCreationService.identifyNeedsForm$ | async)?.value
                .canEvacueeProvideClothing === 'Unsure'
                ? "I'm not sure"
                : (formCreationService.identifyNeedsForm$ | async)?.value
                    .canEvacueeProvideClothing === 'Yes'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Transportation:</div>
          <div class="col-md-3">
            {{
              (formCreationService.identifyNeedsForm$ | async)?.value
                .canEvacueeProvideTransportation === 'Unsure'
                ? "I'm not sure"
                : (formCreationService.identifyNeedsForm$ | async)?.value
                    .canEvacueeProvideTransportation === 'Yes'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Incidentals:</div>
          <div class="col-md-3">
            {{
              (formCreationService.identifyNeedsForm$ | async)?.value
                .canEvacueeProvideIncidentals === 'Unsure'
                ? "I'm not sure"
                : (formCreationService.identifyNeedsForm$ | async)?.value
                    .canEvacueeProvideIncidentals === 'Yes'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content>
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Security Phrase</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="editDetails('secret')"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />

        <div class="row info-detail">
          <div class="col-md-3">Security Phrase</div>
          <div class="col-md-3">
            {{ (formCreationService.secretForm$ | async)?.value?.secretPhrase }}
          </div>
        </div>
      </mat-card-content>
    </div>

  </ng-template>
  <ng-template #dfaApplicationMain>
    <div id="dfaApplicationMain">
      <p *ngIf="showHeading" class="sub-heading" style="font-size: 20px">Review</p>
       <p>
        Please check that your application information is correct before submitting. Missing required fields marked in red.
      </p>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Application & Insurance</div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Application Type:</div>
          <div class="col-md-3">
            <p class="no-bottom-margin">
              <span
                >{{
                  (formCreationService.appTypeInsuranceForm$ | async)?.value
                    ?.applicantOption
                }}</span
              ></p>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Do You Have Insurance?:</div>
          <div class="col-md-3">
            <p class="no-bottom-margin">
              <span
                >{{
                  (formCreationService.appTypeInsuranceForm$ | async)?.value
                    ?.insuranceOption
                }}</span
              ></p>
          </div>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Damaged Property</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="navigateToStep(0)"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.addressLine1}">Address Line One:</span></div>
          <div class="col-md-3">
            <p class="no-bottom-margin">
              <span  [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.addressLine1}"
                >{{
                  (formCreationService.damagedPropertyAddressForm$ | async)?.value
                    ?.addressLine1 ?  (formCreationService.damagedPropertyAddressForm$ | async)?.value
                    ?.addressLine1 : "Enter required information"
                }}</span
              >
            </p>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Address Line Two:</div>
          <div class="col-md-3">
            <p class="no-bottom-margin">
              <span
                >{{
                  (formCreationService.damagedPropertyAddressForm$ | async)?.value
                    ?.addressLine2
                }}</span
              >
            </p>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.community}">City:</span></div>
          <div class="col-md-3">
            <p>
              <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.community}">{{
                  (formCreationService.damagedPropertyAddressForm$ | async)?.value
                    ?.community ? (formCreationService.damagedPropertyAddressForm$ | async)?.value
                    ?.community : "Enter required information"
                }}
              </span>
            </p>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.stateProvince}">Province:</span></div>
          <div class="col-md-3">
            <p>
              <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.stateProvince}">{{
                (formCreationService.damagedPropertyAddressForm$ | async)?.value
                  ?.stateProvince
              }}</span>
            </p>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.postalCode}">Postal Code:</span></div>
          <div class="col-md-3">
            <p>
              <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.postalCode}">{{
                (formCreationService.damagedPropertyAddressForm$ | async).value
                  ?.postalCode ? formatPostalCode((formCreationService.damagedPropertyAddressForm$ | async).value
                  ?.postalCode) : "Enter required information"
              }}</span>
            </p>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.occupyAsPrimaryResidence}">Occupy as Primary Residence:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.occupyAsPrimaryResidence}">{{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .occupyAsPrimaryResidence === 'true'
                ? 'Yes'
                : ((formCreationService.damagedPropertyAddressForm$ | async)?.value
                .occupyAsPrimaryResidence === 'false' ? 'No' : 'Make a selection')
            }}</span>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.onAFirstNationsReserve}">On a First Nations Reserve:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.onAFirstNationsReserve}">{{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .onAFirstNationsReserve === 'true'
                ? 'Yes'
                : ((formCreationService.damagedPropertyAddressForm$ | async)?.value
                .onAFirstNationsReserve === 'false' ? 'No' : 'Make a selection')
            }}</span>
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.damagedPropertyAddressForm$ | async)?.value.onAFirstNationsReserve === 'true'">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.firstNationsReserve}">First Nations Reserve:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.firstNationsReserve}">
              {{
                (formCreationService.damagedPropertyAddressForm$ | async)?.value
                  .firstNationsReserve ? (formCreationService.damagedPropertyAddressForm$ | async)?.value
                  .firstNationsReserve : "Enter required information"
              }}
            </span>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Manufactured Home:</div>
          <div class="col-md-3">
            {{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .manufacturedHome === 'true'
                ? 'Yes'
                : ((formCreationService.damagedPropertyAddressForm$ | async)?.value
                .manufacturedHome === 'false' ? 'No' : '')
            }}
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.appTypeInsuranceForm$ | async)?.value.applicantOption === ApplicantOptions.HomeOwner">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.eligibleForHomeOwnerGrant}"></span>Eligible for a BC Home Owner Grant for this Property:</div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.eligibleForHomeOwnerGrant}">{{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .eligibleForHomeOwnerGrant === 'true'
                ? 'Yes'
                : ((formCreationService.damagedPropertyAddressForm$ | async)?.value
                .eligibleForHomeOwnerGrant === 'false' ? 'No' : 'Make a selection')
            }}</span>
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.appTypeInsuranceForm$ | async)?.value.applicantOption === ApplicantOptions.ResidentialTenant">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.landlordGivenNames}">Landlord First Name:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.landlordGivenNames}">{{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordGivenNames ? (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordGivenNames : "Enter required information"
            }}</span>
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.appTypeInsuranceForm$ | async)?.value.applicantOption === ApplicantOptions.ResidentialTenant">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.landlordSurname}">Landlord Last Name:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.landlordSurname}">{{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordSurname ? (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordSurname : "Enter required information"
            }}</span>
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.appTypeInsuranceForm$ | async)?.value.applicantOption === ApplicantOptions.ResidentialTenant">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.landlordPhone}">Landlord Phone:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.damagedPropertyAddressForm$ | async)?.value?.landlordPhone}">{{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordPhone ? (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordPhone : "Enter required information"
            }}</span>
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.appTypeInsuranceForm$ | async)?.value.applicantOption === ApplicantOptions.ResidentialTenant">
          <div class="col-md-3">Landlord Email:</div>
          <div class="col-md-3">
            {{
              (formCreationService.damagedPropertyAddressForm$ | async)?.value
                .landlordEmail
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Damage</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="navigateToStep(1)"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail">
          <div class="col-md-3">Flood Damage?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .floodDamage === true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Landslide Damage?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .landslideDamage === true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Wildfire Damage?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .wildfireDamage === true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Storm Damage?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .stormDamage === true
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Other Damage?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .otherDamage === true
                ? ((formCreationService.propertyDamageForm$ | async)?.value.otherDamageText ? (formCreationService.propertyDamageForm$ | async)?.value.otherDamageText : 'Enter required information')
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.propertyDamageForm$ | async).hasError('noCauseOfDamage')">
          <br/><span style="color:red">At least one cause of damage is required.</span>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.propertyDamageForm$ | async)?.value?.damageFromDate || !(formCreationService.propertyDamageForm$ | async)?.value?.damageToDate} ">Dates of Damage:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.propertyDamageForm$ | async)?.value?.damageFromDate || !(formCreationService.propertyDamageForm$ | async)?.value?.damageToDate} ">{{
              (formCreationService.propertyDamageForm$ | async)?.value
                .damageFromDate ? ('Starts ' + ((formCreationService.propertyDamageForm$ | async).value.damageFromDate | date: "MM/dd/yyyy")) + '. ': 'Enter required start date. '
            }}
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .damageToDate ? ('Ends ' + ((formCreationService.propertyDamageForm$ | async).value.damageToDate | date: "MM/dd/yyyy")) + '. ' : 'Enter required end date.'
            }}</span>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3"><span [ngClass]="{'missing-info': !(formCreationService.propertyDamageForm$ | async)?.value?.briefDescription}">Brief Description:</span></div>
          <div class="col-md-3">
            <span [ngClass]="{'missing-info': !(formCreationService.propertyDamageForm$ | async)?.value?.briefDescription}">{{
              (formCreationService.propertyDamageForm$ | async)?.value
                .briefDescription ? (formCreationService.propertyDamageForm$ | async)?.value
                .briefDescription : 'Enter required information'
            }}</span>
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Losses Total More Than $1000?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .lossesExceed1000 === 'true'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Were You Evacuated?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .wereYouEvacuated === 'true' ?
                ((formCreationService.propertyDamageForm$ | async)?.value
                .dateReturned ? ('Yes, returned ' + (formCreationService.propertyDamageForm$ | async)?.value
                .dateReturned) : 'Yes')
                : 'No'
            }}
          </div>
        </div>
        <div class="row info-detail">
          <div class="col-md-3">Residing In Residence?:</div>
          <div class="col-md-3">
            {{
              (formCreationService.propertyDamageForm$ | async)?.value
                .residingInResidence === 'true'
                ? 'Yes'
                : 'No'
            }}
          </div>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Occupants</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="navigateToStep(2)"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail" *ngIf="(formCreationService.occupantsForm$ | async)?.value?.fullTimeOccupants?.length > 0">
          <b>Full Time Occupants</b>
          <table mat-table [dataSource]="fullTimeOccupantsDataSource">
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>
                <b>Name</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.firstName }}&nbsp; {{element.lastName }}
              </td>
            </ng-container>

            <!-- Relationship Column -->
            <ng-container matColumnDef="relationship">
              <th mat-header-cell *matHeaderCellDef >
                <b>Relationship</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.relationship}}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="fullTimeOccupantsColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: fullTimeOccupantsColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.occupantsForm$ | async)?.value?.fullTimeOccupants?.length == 0">
          <span style="color:red">At least one full time occupant is required.</span>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.occupantsForm$ | async)?.value?.secondaryApplicants?.length > 0">
          <b>Secondary Applicants</b>
          <table mat-table [dataSource]="secondaryApplicantsDataSource">
            <!-- Applicant Type Column -->
            <ng-container matColumnDef="applicantType">
              <th mat-header-cell *matHeaderCellDef >
                <b>Type</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.secondaryApplicantType }}
              </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef >
                <b>Name</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.firstName }}&nbsp; {{element.lastName }}
              </td>
            </ng-container>

            <!-- Phone Column -->
            <ng-container matColumnDef="phoneNumber">
              <th mat-header-cell *matHeaderCellDef>
                <b>Phone</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.phoneNumber | phoneFormat }}
              </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef>
                <b>Email</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.email}}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="secondaryApplicantsColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: secondaryApplicantsColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.occupantsForm$ | async)?.value?.secondaryApplicants?.length == 0">
          <span>No secondary applicants.</span>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.occupantsForm$ | async)?.value?.otherContacts?.length > 0">
          <b>Other Contacts</b>
          <table mat-table [dataSource]="otherContactsDataSource">
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef >
                <b>Name</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.firstName }}&nbsp; {{element.lastName }}
              </td>
            </ng-container>

            <!-- Phone Column -->
            <ng-container matColumnDef="phoneNumber">
              <th mat-header-cell *matHeaderCellDef>
                <b>Phone</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.phoneNumber | phoneFormat }}
              </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef>
                <b>Email</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.email}}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="otherContactsColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: otherContactsColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.occupantsForm$ | async)?.value?.otherContacts?.length == 0">
          <span style="color:red">At least one other contact is required.</span>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">&nbsp;Clean Up Log</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="navigateToStep(3)"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail" *ngIf="(formCreationService.cleanUpLogForm$ | async)?.value?.cleanuplogs?.length > 0">
          <b>Clean Up Log</b>
          <table mat-table [dataSource]="cleanUpWorkDataSource">
            <!-- Date Column -->
            <ng-container matColumnDef="date" style="width:40%">
              <th mat-header-cell *matHeaderCellDef >
                <b>Date</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.date | date : "yyyy/MM/dd" }}
              </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="name" style="width:40%">
              <th mat-header-cell *matHeaderCellDef >
                <b>Name</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.name }}
              </td>
            </ng-container>

            <!-- Hours Column -->
            <ng-container matColumnDef="hours" style="width:40%">
              <th mat-header-cell *matHeaderCellDef>
                <b>Hours</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.hours}}
              </td>
            </ng-container>

             <!-- Description Column -->
            <ng-container matColumnDef="description" style="width:40%">
              <th mat-header-cell *matHeaderCellDef>
                <b>Description</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.description}}
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="cleanUpWorkColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: cleanUpWorkColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.cleanUpLogForm$ | async)?.value?.cleanuplogs?.length == 0">
          <span>No clean up logs.</span>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.cleanUpLogForm$ | async)?.value?.cleanuplogFiles?.length > 0">
          <b>Receipts and Invoices</b>
          <table mat-table [dataSource]="cleanUpWorkFileDataSource">
           <!-- File Name Column -->
           <ng-container matColumnDef="fileName" style="width:40%">
            <th mat-header-cell *matHeaderCellDef >
              <b>File Name</b>
            </th>
            <td *matCellDef="let elementFile" mat-cell>
              {{ elementFile.fileName }}
            </td>
          </ng-container>

          <!-- File Description Column -->
          <ng-container matColumnDef="fileDescription" style="width:40%">
            <th mat-header-cell *matHeaderCellDef>
              <b>File Description</b>
            </th>
            <td *matCellDef="let elementFile" mat-cell>
              {{ elementFile.fileDescription}}
            </td>
          </ng-container>

           <!-- Date Column -->
          <ng-container matColumnDef="fileDate" style="width:40%">
            <th mat-header-cell *matHeaderCellDef >
              <b>Date</b>
            </th>
            <td *matCellDef="let elementFile" mat-cell>
              {{ elementFile.fileDate | date : "yyyy/MM/dd" }}
            </td>
          </ng-container>
            <tr mat-header-row *matHeaderRowDef="cleanUpWorkFileColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: cleanUpWorkFileColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.cleanUpLogForm$ | async)?.value?.cleanuplogFiles?.length == 0">
          <span>No receipts or invoices supplied.</span>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Damaged Items By Room</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="navigateToStep(4)"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail" *ngIf="(formCreationService.damagedItemsByRoomForm$ | async)?.value?.damagedRooms?.length > 0">
          <b>Damaged Rooms</b>
          <table mat-table [dataSource]="damagedRoomDataSource">
            <!-- Room Type Column -->
            <ng-container matColumnDef="roomType" style="width:20%">
              <th mat-header-cell *matHeaderCellDef >
                <b>Room</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.roomType === RoomTypes.Other ? element.otherRoomType : element.roomType }}
              </td>
            </ng-container>

            <!-- Description Column -->
            <ng-container matColumnDef="description">
              <th mat-header-cell *matHeaderCellDef>
                <b>Damaged Items</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.description}}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="damagedRoomColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: damagedRoomColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.damagedItemsByRoomForm$ | async)?.value?.damagedRooms?.length == 0">
          <span>No damaged rooms listed.</span>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.damagedItemsByRoomForm$ | async)?.value?.damagePhotos?.length > 0">
          <b>Damage Photos</b>
          <table mat-table [dataSource]="damagePhotoDataSource">
             <!-- File Name Column -->
             <ng-container matColumnDef="fileName" style="width:25%">
              <th mat-header-cell *matHeaderCellDef >
                <b>File Name</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.fileName }}
              </td>
            </ng-container>

            <!-- Description Column -->
            <ng-container matColumnDef="fileDescription" style="width:25%">
              <th mat-header-cell *matHeaderCellDef>
                <b>File Description</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.fileDescription}}
              </td>
            </ng-container>

            <!-- UploadedDate Column -->
            <ng-container matColumnDef="uploadedDate" style="width:25%">
              <th mat-header-cell *matHeaderCellDef>
                <b>Date Uploaded</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.uploadedDate | date:"dd-MMM-yyyy" }}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="damagePhotoColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: damagePhotoColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.damagedItemsByRoomForm$ | async)?.value?.damagePhotos?.length == 0">
          <span>No damage photos supplied.</span>
        </div>
      </mat-card-content>

      <mat-card-content class="contentStyle mat-elevation-z8">
        <div class="row justify-content-between">
          <div class="col-md-6 card-heading">Supporting Documents</div>
          <div class="col-md-2" *ngIf="allowEdit">
            <button
              class="edit-image"
              mat-icon-button
              aria-label="Edit"
              (click)="navigateToStep(5)"
            >
              <img src="/assets/images/edit.svg" height="35" width="35" />
              <img
                src="/assets/images/edit_onhover.svg"
                height="35"
                width="35"
              />
            </button>
          </div>
        </div>
        <hr />
        <div class="row info-detail" *ngIf="(formCreationService.supportingDocumentsForm$ | async)?.value?.supportingDocuments?.length > 0">
          <b>Supporting Documents & Insurance Template</b>
          <table mat-table [dataSource]="supportingDocumentDataSource">
             <!-- File Name Column -->
             <ng-container matColumnDef="fileName" style="width:25%">
              <th mat-header-cell *matHeaderCellDef >
                <b>File Name</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.fileName }}
              </td>
            </ng-container>

            <!-- Description Column -->
            <ng-container matColumnDef="fileDescription" style="width:25%">
              <th mat-header-cell *matHeaderCellDef>
                <b>File Description</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.fileDescription}}
              </td>
            </ng-container>

            <!-- Type Column -->
            <ng-container matColumnDef="fileType" style="width:25%">
              <th mat-header-cell *matHeaderCellDef>
                <b>File Type</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.fileType}}
              </td>
            </ng-container>

            <!-- UploadedDate Column -->
            <ng-container matColumnDef="uploadedDate" style="width:25%">
              <th mat-header-cell *matHeaderCellDef>
                <b>Date Uploaded</b>
              </th>
              <td *matCellDef="let element" mat-cell>
                {{ element.uploadedDate | date:"dd-MMM-yyyy" }}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="supportingDocumentColumnsToDisplay"></tr>
            <tr
              mat-row
              *matRowDef="let element; columns: supportingDocumentColumnsToDisplay"
              class="example-element-row"
            ></tr>
          </table>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.supportingDocumentsForm$ | async)?.value?.supportingDocuments?.length == 0">
          <span>No supporting documents.</span>
        </div>
        <div class="row info-detail" *ngIf="(formCreationService.supportingDocumentsForm$ | async)?.hasError('noInsuranceTemplate')">
          <span style="color:red">Insurance template is required.</span>
        </div>
      </mat-card-content>
    </div>
  </ng-template>
</mat-card>
